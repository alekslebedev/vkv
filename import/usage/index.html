<!doctype html><html lang=en-us>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Usage - vkv</title>
<meta name=description content=" export/import secrets from Vaults KV2 engine">
<meta name=generator content="Hugo 0.92.2">
<link href=https://falcosuessgott.github.io/vkv//index.xml rel=alternate type=application/rss+xml>
<link rel=canonical href=https://falcosuessgott.github.io/vkv/import/usage/>
<link rel=stylesheet href=https://falcosuessgott.github.io/vkv/css/theme.min.css>
<link rel=stylesheet href=https://falcosuessgott.github.io/vkv/css/chroma.min.css>
<script defer src=https://falcosuessgott.github.io/vkv//js/fontawesome6/all.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js integrity="sha256-H3cjtrm/ztDeuhCN9I4yh4iN2Ybx/y1RM7rMmAesA0k=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js integrity="sha256-4XodgW4TwIJuDtf+v6vDJ39FVxI0veC/kSCCmnFp7ck=" crossorigin=anonymous></script>
<script src=https://falcosuessgott.github.io/vkv/js/bundle.js></script><style>:root{}</style>
<meta property="og:title" content="Usage">
<meta property="og:description" content="The - in vkv import -, tells vkv do read data via STDIN. The idea of vkv import - is, in order to copy/mirror KV-v2 secrets or complete engines across diferrent Vault Servers or Namespaces, you can simply pipe vkvs output into the vkv import command:
# dont forget to use --show-values, otherwise the secrets will be uploaded masked. vkv -p <source> --show-values -f=yaml | vkv import - -p <destination> Demo  A few notes:  <source> and <destination> dont have to be the root path of a secret engine, you also specify subpaths and copy them another secret engine.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://falcosuessgott.github.io/vkv/import/usage/"><meta property="og:image" content="https://falcosuessgott.github.io/vkv/images/og-image.png"><meta property="article:section" content="import">
<meta property="og:site_name" content="Hugo Techdoc Theme">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://falcosuessgott.github.io/vkv/images/og-image.png">
<meta name=twitter:title content="Usage">
<meta name=twitter:description content="The - in vkv import -, tells vkv do read data via STDIN. The idea of vkv import - is, in order to copy/mirror KV-v2 secrets or complete engines across diferrent Vault Servers or Namespaces, you can simply pipe vkvs output into the vkv import command:
# dont forget to use --show-values, otherwise the secrets will be uploaded masked. vkv -p <source> --show-values -f=yaml | vkv import - -p <destination> Demo  A few notes:  <source> and <destination> dont have to be the root path of a secret engine, you also specify subpaths and copy them another secret engine.">
<meta itemprop=name content="Usage">
<meta itemprop=description content="The - in vkv import -, tells vkv do read data via STDIN. The idea of vkv import - is, in order to copy/mirror KV-v2 secrets or complete engines across diferrent Vault Servers or Namespaces, you can simply pipe vkvs output into the vkv import command:
# dont forget to use --show-values, otherwise the secrets will be uploaded masked. vkv -p <source> --show-values -f=yaml | vkv import - -p <destination> Demo  A few notes:  <source> and <destination> dont have to be the root path of a secret engine, you also specify subpaths and copy them another secret engine.">
<meta itemprop=wordCount content="249"><meta itemprop=image content="https://falcosuessgott.github.io/vkv/images/og-image.png">
<meta itemprop=keywords content></head>
<body><div class=container><header>
<h1>vkv</h1><span class=version>Version v0.1.1</span><a href=https://github.com/FalcoSuessgott/vkv class=github><i class="fab fa-github"></i></a>
<p class=description> export/import secrets from Vaults KV2 engine</p>
</header>
<div class=global-menu>
<nav>
<ul>
<li id=home><a href=/vkv/></a></li></ul>
</nav>
</div>
<div class=content-container>
<main><h1>Usage</h1>
<p>The <code>-</code> in <code>vkv import -</code>, tells <code>vkv</code> do read data via STDIN. The idea of <code>vkv import -</code> is, in order to copy/mirror KV-v2 secrets or complete engines across diferrent Vault Servers or Namespaces, you can simply pipe
<code>vkv</code>s output into the <code>vkv import</code> command:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash> <span style=color:#75715e># dont forget to use --show-values, otherwise the secrets will be uploaded masked.</span>
vkv -p &lt;source&gt; --show-values -f<span style=color:#f92672>=</span>yaml | vkv import - -p &lt;destination&gt;
</code></pre></div><h3 id=demo>Demo</h3>
<div align=center>
<img src=../../images/export-import.gif alt=drawing width=1000>
</div>
<h3 id=a-few-notes>A few notes:</h3>
<ul>
<li><code>&lt;source></code> and <code>&lt;destination></code> dont have to be the root path of a secret engine, you also specify subpaths and copy them another secret engine.</li>
<li><code>vkv</code> will error if the enabled secret engine already exist, you can use <code>--force</code> to overwrite the destination engine, if the destination path contains a subpath (<code>root/sub</code>), <code>vkv</code> will then insert the secrets to that specific directory</li>
</ul>
<p><strong>⚠️ <code>vkv import</code> can overwrite important secrets, always double check the commmand by using the dry-run mode (<code>--dry-run</code>) first</strong></p>
<h2 id=input-flags>Input flags</h2>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
<th>Env</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p</code>, <code>--path</code></td>
<td>Destination KV-v2 path</td>
<td><code>VKV_IMPORT_PATH</code></td>
<td></td>
</tr>
<tr>
<td><code>-f</code>, <code>--file</code></td>
<td>path to a file containing vkv JSON or YAML output</td>
<td><code>VKV_IMPORT_FILE</code></td>
<td></td>
</tr>
<tr>
<td><code>-d</code>, <code>--dry-run</code></td>
<td>Dry-run does not upload any secrets and just prints a preview</td>
<td><code>VKV_IMPORT_DRY_RUN</code></td>
<td></td>
</tr>
<tr>
<td><code>-s</code>, <code>--silent</code></td>
<td>do not show the resulting secret engine</td>
<td><code>VKV_IMPORT_SILENT</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--force</code></td>
<td>force overwrites the specified secret engine. <strong>Use with Caution</strong></td>
<td><code>VKV_IMPORT_FORCE</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>---max-value-length</code></td>
<td>maximum char length of values (set to <code>-1</code> for disabling)</td>
<td><code>VKV_IMPORT_MAX_VALUE_LENGTH</code></td>
<td><code>12</code></td>
</tr>
<tr>
<td><code>--show-values</code></td>
<td>dont mask values when printing the resulting secret engine</td>
<td><code>VKV_IMPORT_SHOW_VALUES</code></td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
<p>⚠️ <strong>A flag always precede its environment variable</strong></p>
<div class=edit-meta>
<br><a href=https://github.com/FalcoSuessgott/vkv/edit/master/www/content/import/usage.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://falcosuessgott.github.io/vkv/import/ title="Secret Import"><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Secret Import</a>
<a class="nav nav-next" href=https://falcosuessgott.github.io/vkv/development/ title=Development>Next - Development <i class="fas fa-arrow-right" aria-hidden=true></i></a>
</nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p>
</footer>
</main>
<div class=sidebar>
<nav class=slide-menu>
<ul>
<li><a href=https://falcosuessgott.github.io/vkv/>Home</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/installation/>Installation</a>
</li>
<li><a href=https://falcosuessgott.github.io/vkv/authentication/>Authentication</a>
</li>
<li class=has-sub-menu><a href=https://falcosuessgott.github.io/vkv/export/>Secret Export<span class="mark closed">+</span></a>
<ul class=sub-menu>
<li><a href=https://falcosuessgott.github.io/vkv/export/usage/>Usage</a></li>
<li class=has-sub-menu><a href=https://falcosuessgott.github.io/vkv/export/formats/>Export Formats<span class="mark closed">+</span></a>
<ul class=sub-menu>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/base/>Base</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/json/>JSON</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/yaml/>YAML</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/markdown/>Markdown</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/token_policy/>Token Policy Matrix</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/export/>Export</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/formats/template/>Template</a></li>
</ul>
</li>
<li class=has-sub-menu><a href=https://falcosuessgott.github.io/vkv/export/advanced_examples/>Advanced Examples<span class="mark closed">+</span></a>
<ul class=sub-menu>
<li><a href=https://falcosuessgott.github.io/vkv/export/advanced_examples/diff/>Compare and highlight the differences using diff</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/advanced_examples/vault_policies/>Generate Vault policies using the template format</a></li>
<li><a href=https://falcosuessgott.github.io/vkv/export/advanced_examples/fzf/>Show all KV-engines and secrets the using fzf and jq</a></li>
</ul>
</li>
</ul>
</li>
<li class="parent has-sub-menu"><a href=https://falcosuessgott.github.io/vkv/import/>Secret Import<span class="mark opened">-</span></a>
<ul class=sub-menu>
<li class=active><a href=https://falcosuessgott.github.io/vkv/import/usage/>Usage</a></li>
</ul>
</li>
<li><a href=https://falcosuessgott.github.io/vkv/development/>Development</a>
</li>
</ul>
</nav>
<div class=sidebar-footer></div>
</div>
</div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20>
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>